# include .env file and export its env vars
# (-include to ignore error if it does not exist)
-include .env

################################################################################################
# Utils
################################################################################################

fmt:
	forge fmt

################################################################################################
# Foundry Dependencies
################################################################################################

remove:
	rm -rf lib

install:
	forge soldeer install

update: remove install
	
################################################################################################
# Build
################################################################################################
clean:
	forge clean

build:
	forge build --evm-version paris --sizes

clean_build: clean build

docs: clean_build
	forge doc --build

################################################################################################
# Test
################################################################################################
test-all:
	forge test

test-gas:
	forge test --gas-report

test-coverage:
	forge coverage

test-fuzz:
	forge test --fuzz-runs 10000

################################################################################################
# Simulate
################################################################################################

simulate:
	poetry run python simulation/simulate.py